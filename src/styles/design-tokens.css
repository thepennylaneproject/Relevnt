/**
 * ═══════════════════════════════════════════════════════════════════════════
 * RELEVNT DESIGN TOKENS — INK & IVORY
 * ═══════════════════════════════════════════════════════════════════════════
 *
 * "Authentic intelligence for real people navigating broken systems."
 *
 * Philosophy:
 * - Monochrome foundation: Ink (charcoal) on Ivory (warm white)
 * - Texture for warmth: Paper grain, canvas weave, watercolor wash
 * - Single accent: Terracotta (craft, warmth, vintage stationery)
 * - Typography: Bold all-caps headings, lyrical serif body, poetic italics
 *
 * ═══════════════════════════════════════════════════════════════════════════
 */

/* ═══════════════════════════════════════════════════════════════════════════
   FONT IMPORTS
   ═══════════════════════════════════════════════════════════════════════════ */

/* Bebas Neue: Bold all-caps headings */
@import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap');

/* Lora: Elegant, lyrical body text */
@import url('https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,500;0,600;1,400;1,500&display=swap');

/* Crimson Text: Poetic passages and quotes */
@import url('https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap');

/* JetBrains Mono: Code blocks and technical text */
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&display=swap');


/* ═══════════════════════════════════════════════════════════════════════════
   LIGHT MODE (Default) — Ink on Ivory
   ═══════════════════════════════════════════════════════════════════════════ */

:root {
  /* ─────────────────────────────────────────────────────────────────────────
     INK SCALE — Text, lines, graphite work
     ───────────────────────────────────────────────────────────────────────── */

  --ink-900: #0d0d0d;    /* Deepest black, sparingly used */
  --ink-800: #1a1a1a;    /* Primary text */
  --ink-700: #2d2d2d;    /* Strong secondary */
  --ink-600: #4a4a4a;    /* Secondary text */
  --ink-500: #6a6a6a;    /* Tertiary */
  --ink-400: #8a8a8a;    /* Muted, placeholders */
  --ink-300: #a8a8a8;    /* Disabled states */
  --ink-200: #c4c4c4;    /* Subtle borders */
  --ink-100: #e0e0e0;    /* Faint lines */

  /* ─────────────────────────────────────────────────────────────────────────
     IVORY SCALE — Backgrounds, surfaces, paper
     ───────────────────────────────────────────────────────────────────────── */

  --ivory-50:  #fdfcfa;   /* Brightest surface (modals) */
  --ivory-100: #f5f1e8;   /* Primary background */
  --ivory-200: #ede8de;   /* Card surfaces */
  --ivory-300: #e4ded2;   /* Elevated/nested surfaces */
  --ivory-400: #d9d3c7;   /* Hover states */
  --ivory-500: #cec7ba;   /* Pressed states */
  --ivory-600: #b8b0a2;   /* Darker accents */

  /* ─────────────────────────────────────────────────────────────────────────
     TERRACOTTA — The Single Accent Color
     Warmth, craft, vintage stationery
     ───────────────────────────────────────────────────────────────────────── */

  --terracotta-600: #8a5a42;   /* Darker hover state */
  --terracotta-500: #a0715c;   /* Primary accent */
  --terracotta-400: #b88a76;   /* Lighter variant */
  --terracotta-300: #d0a896;   /* Soft backgrounds */
  --terracotta-200: #e8c7b8;   /* Very soft tint */
  --terracotta-100: #f5e5dc;   /* Barely there tint */

  /* ─────────────────────────────────────────────────────────────────────────
     SAGE GREEN — Dark Mode Accent
     Growth, calm, sophisticated complement to ink
     ───────────────────────────────────────────────────────────────────────── */

  --sage-600: #3d5a4c;         /* Darker hover state */
  --sage-500: #5c7a6a;         /* Primary accent (dark mode) */
  --sage-400: #7a9a8a;         /* Lighter variant */
  --sage-300: #a8c4b4;         /* Soft backgrounds */
  --sage-200: #d4e5dc;         /* Very soft tint */
  --sage-100: #eaf3ef;         /* Barely there tint */

  /* ─────────────────────────────────────────────────────────────────────────
     SEMANTIC MAPPINGS — For consistent usage
     ───────────────────────────────────────────────────────────────────────── */

  /* Core Colors */
  --color-bg: var(--ivory-100);
  --color-bg-alt: var(--ivory-200);
  --color-bg-secondary: var(--ivory-300);
  --color-bg-tertiary: var(--ivory-400);
  --color-surface: var(--ivory-200);
  --color-surface-hover: var(--ivory-400);
  --color-surface-pressed: var(--ivory-500);

  /* Text Colors */
  --color-ink: var(--ink-800);
  --color-ink-secondary: var(--ink-600);
  --color-ink-tertiary: var(--ink-400);
  --color-ink-inverse: var(--ivory-100);

  /* Line Work */
  --color-graphite: var(--ink-800);
  --color-graphite-light: var(--ink-400);
  --color-graphite-faint: var(--ink-200);

  /* The Accent */
  --color-accent: var(--terracotta-500);
  --color-accent-hover: var(--terracotta-600);
  --color-accent-glow: rgba(160, 113, 92, 0.15);
  --color-accent-soft: var(--terracotta-100);

  /* Semantic Status Colors (monochrome-friendly) */
  --color-success: #5c7a6a;           /* Muted sage */
  --color-success-bg: rgba(92, 122, 106, 0.1);
  --color-warning: var(--terracotta-500);  /* Use accent for warnings */
  --color-warning-bg: var(--terracotta-100);
  --color-error: #8b5c5c;             /* Muted dusty rose */
  --color-error-bg: rgba(139, 92, 92, 0.1);
  --color-info: var(--ink-600);       /* Just darker ink */
  --color-info-bg: var(--ivory-300);

  /* Interactive States */
  --color-focus-ring: rgba(160, 113, 92, 0.4);
  --color-selection: rgba(160, 113, 92, 0.2);

  /* ─────────────────────────────────────────────────────────────────────────
     TYPOGRAPHY
     ───────────────────────────────────────────────────────────────────────── */

  /* Font Families */
  --font-display: 'Bebas Neue', 'Impact', sans-serif;
  --font-body: 'Lora', 'Georgia', serif;
  --font-poetic: 'Crimson Text', 'Georgia', serif;
  --font-mono: 'JetBrains Mono', 'Consolas', monospace;

  /* Font Sizes */
  --text-xs: 0.75rem;     /* 12px */
  --text-sm: 0.875rem;    /* 14px */
  --text-base: 1rem;      /* 16px */
  --text-lg: 1.125rem;    /* 18px */
  --text-xl: 1.25rem;     /* 20px */
  --text-2xl: 1.5rem;     /* 24px */
  --text-3xl: 1.875rem;   /* 30px */
  --text-4xl: 2.25rem;    /* 36px */
  --text-5xl: 3rem;       /* 48px */
  --text-6xl: 3.75rem;    /* 60px */

  /* Line Heights */
  --leading-tight: 1.1;
  --leading-snug: 1.3;
  --leading-normal: 1.6;
  --leading-relaxed: 1.75;
  --leading-loose: 2;

  /* Letter Spacing */
  --tracking-tight: -0.02em;
  --tracking-normal: 0;
  --tracking-wide: 0.05em;
  --tracking-wider: 0.1em;
  --tracking-widest: 0.15em;

  /* Font Weights */
  --font-normal: 400;
  --font-medium: 500;
  --font-semibold: 600;
  --font-bold: 700;

  /* ─────────────────────────────────────────────────────────────────────────
     SPACING SCALE (4px base)
     ───────────────────────────────────────────────────────────────────────── */

  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;
  --space-8: 32px;
  --space-10: 40px;
  --space-12: 48px;
  --space-16: 64px;
  --space-20: 80px;
  --space-24: 96px;

  /* Semantic Layout Spacing — Golden Ratio Aligned */
  /* Component internal spacing */
  --space-component-inner: var(--space-4); /* 16px — internal padding */
  --space-component-pad: var(--space-6); /* 24px — standard padding */

  /* Gap between elements */
  --space-element-gap: var(--space-4); /* 16px — items in a row */
  --space-row-gap: var(--space-6); /* 24px — gaps between rows */

  /* Major section spacing (golden ratio proportions) */
  --space-section-gap: var(--space-10); /* 40px — between sections (16 × φ ≈ 26, use 24 or 40) */
  --space-section-gap-large: var(--space-16); /* 64px — major section breaks */

  /* Legacy semantic spacing (maintained for compatibility) */
  --layout-gap-hero: var(--space-8); /* 32px */
  --layout-gap-section: var(--space-6); /* 24px */
  --layout-gap-elements: var(--space-4); /* 16px */

  /* ─────────────────────────────────────────────────────────────────────────
     BORDERS & SHADOWS
     ───────────────────────────────────────────────────────────────────────── */

  --border-default: 1px solid var(--ink-200);
  --border-strong: 1px solid var(--ink-400);
  --border-accent: 2px solid var(--color-accent);
  --border-accent-soft: 1px solid var(--terracotta-300);

  --shadow-sm: 0 1px 2px rgba(26, 26, 26, 0.04);
  --shadow-md: 0 4px 12px rgba(26, 26, 26, 0.06);
  --shadow-lg: 0 8px 24px rgba(26, 26, 26, 0.08);
  --shadow-xl: 0 16px 48px rgba(26, 26, 26, 0.1);
  --shadow-glow: 0 0 20px var(--color-accent-glow);

  /* ─────────────────────────────────────────────────────────────────────────
     BORDER RADIUS
     ───────────────────────────────────────────────────────────────────────── */

  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 16px;
  --radius-2xl: 24px;
  --radius-full: 9999px;

  /* ─────────────────────────────────────────────────────────────────────────
     TRANSITIONS
     ───────────────────────────────────────────────────────────────────────── */

  --transition-fast: 150ms ease;
  --transition-base: 200ms ease;
  --transition-slow: 300ms ease;
  --transition-slower: 500ms ease;

  /* ─────────────────────────────────────────────────────────────────────────
     Z-INDEX SCALE
     ───────────────────────────────────────────────────────────────────────── */

  --z-base: 0;
  --z-dropdown: 10;
  --z-sticky: 20;
  --z-modal-backdrop: 30;
  --z-modal: 40;
  --z-toast: 50;
  --z-tooltip: 60;
}


/* ═══════════════════════════════════════════════════════════════════════════
   DARK MODE — Ivory on Ink
   Same journal, open at midnight
   ═══════════════════════════════════════════════════════════════════════════ */

@media (prefers-color-scheme: dark) {
  :root:not(.light):not([data-theme="light"]) {
    /* Layered ink backgrounds for visual dimension */
    --color-bg: #141414;           /* Deeper base */
    --color-bg-alt: #1a1a1a;       /* Subtle lift */
    --color-bg-secondary: #242424; /* Medium elevation */
    --color-bg-tertiary: #2d2d2d;  /* Higher elevation */
    --color-surface: #1e1e1e;      /* Card surfaces */
    --color-surface-hover: #2a2a2a;
    --color-surface-pressed: #333333;

    /* Text inverts — ivory on ink */
    --color-ink: var(--ivory-100);
    --color-ink-secondary: var(--ivory-400);
    --color-ink-tertiary: var(--ivory-600);
    --color-ink-inverse: var(--ink-900);

    /* Line work inverts */
    --color-graphite: var(--ivory-200);
    --color-graphite-light: var(--ivory-500);
    --color-graphite-faint: #3a3a3a;

    /* Sage green accent for dark mode personality */
    --color-accent: var(--sage-400);
    --color-accent-hover: var(--sage-300);
    --color-accent-glow: rgba(122, 154, 138, 0.25);
    --color-accent-soft: rgba(92, 122, 106, 0.15);

    /* Semantic status colors (dark mode variants) */
    --color-success: var(--sage-400);
    --color-success-bg: rgba(92, 122, 106, 0.15);

    /* Borders with subtle visibility */
    --border-default: 1px solid #3a3a3a;
    --border-strong: 1px solid #4a4a4a;
    --border-accent: 2px solid var(--sage-400);
    --border-accent-soft: 1px solid var(--sage-500);

    /* Deeper shadows for true dark */
    --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.3);
    --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.4);
    --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.5);
    --shadow-glow: 0 0 20px var(--color-accent-glow);
  }
}

/* Explicit dark mode class */
:root.dark,
.dark,
[data-theme="dark"] {
  /* Layered ink backgrounds for visual dimension */
  --color-bg: #141414;
  --color-bg-alt: #1a1a1a;
  --color-bg-secondary: #242424;
  --color-bg-tertiary: #2d2d2d;
  --color-surface: #1e1e1e;
  --color-surface-hover: #2a2a2a;
  --color-surface-pressed: #333333;

  /* Text — ivory on ink */
  --color-ink: var(--ivory-100);
  --color-ink-secondary: var(--ivory-400);
  --color-ink-tertiary: var(--ivory-600);
  --color-ink-inverse: var(--ink-900);

  /* Line work */
  --color-graphite: var(--ivory-200);
  --color-graphite-light: var(--ivory-500);
  --color-graphite-faint: #3a3a3a;

  /* Sage green accent */
  --color-accent: var(--sage-400);
  --color-accent-hover: var(--sage-300);
  --color-accent-glow: rgba(122, 154, 138, 0.25);
  --color-accent-soft: rgba(92, 122, 106, 0.15);

  /* Status colors */
  --color-success: var(--sage-400);
  --color-success-bg: rgba(92, 122, 106, 0.15);

  /* Borders */
  --border-default: 1px solid #3a3a3a;
  --border-strong: 1px solid #4a4a4a;
  --border-accent: 2px solid var(--sage-400);
  --border-accent-soft: 1px solid var(--sage-500);

  /* Shadows */
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.4);
  --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.5);
  --shadow-glow: 0 0 20px var(--color-accent-glow);
}


/* ═══════════════════════════════════════════════════════════════════════════
   BASE STYLES
   ═══════════════════════════════════════════════════════════════════════════ */

*,
*::before,
*::after {
  box-sizing: border-box;
}

html {
  font-family: var(--font-body);
  font-size: 16px;
  line-height: var(--leading-normal);
  color: var(--color-ink);
  background-color: var(--color-bg);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  margin: 0;
  min-height: 100vh;
  background-color: var(--color-bg);
}

/* Selection styling */
::selection {
  background-color: var(--color-selection);
  color: var(--color-ink);
}

/* Focus states — terracotta glow */
:focus-visible {
  outline: 2px solid var(--color-accent);
  outline-offset: 2px;
}


/* ═══════════════════════════════════════════════════════════════════════════
   TYPOGRAPHY CLASSES
   ═══════════════════════════════════════════════════════════════════════════ */

/* Display Headings — Bold, All Caps, Bebas Neue */
.heading,
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-display);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wider);
  line-height: var(--leading-tight);
  color: var(--color-ink);
  margin: 0;
}

h1, .text-5xl { font-size: var(--text-5xl); }
h2, .text-4xl { font-size: var(--text-4xl); }
h3, .text-3xl { font-size: var(--text-3xl); }
h4, .text-2xl { font-size: var(--text-2xl); }
h5, .text-xl { font-size: var(--text-xl); }
h6, .text-lg { font-size: var(--text-lg); }

/* Body Text — Lyrical Lora */
.body-text,
p, li, td, label, span {
  font-family: var(--font-body);
  line-height: var(--leading-normal);
}

/* Poetic Text — Crimson Text for literary moments */
.poetic,
.poetic-verse,
.poetic-epigraph {
  font-family: var(--font-poetic);
  font-style: italic;
  color: var(--color-accent);
  line-height: var(--leading-relaxed);
  letter-spacing: 0.02em;
}

.poetic-verse {
  font-size: var(--text-lg);
}

.poetic-epigraph {
  font-size: var(--text-base);
  border-left: 3px solid var(--color-accent);
  padding-left: var(--space-4);
  margin: var(--space-4) 0;
}

/* Code/Mono Text */
.font-mono,
code, pre {
  font-family: var(--font-mono);
}

/* Text utilities */
.font-display { font-family: var(--font-display); }
.font-body { font-family: var(--font-body); }
.uppercase { text-transform: uppercase; }
.normal-case { text-transform: none; }


/* ═══════════════════════════════════════════════════════════════════════════
   COMPONENT PATTERNS
   ═══════════════════════════════════════════════════════════════════════════ */

/* Card */
.card {
  background: var(--color-surface);
  border: var(--border-default);
  border-radius: var(--radius-lg);
  padding: var(--space-6);
  box-shadow: var(--shadow-sm);
  transition: box-shadow var(--transition-base), border-color var(--transition-base);
}

.card:hover {
  box-shadow: var(--shadow-md);
  border-color: var(--color-graphite-light);
}

.card--elevated {
  box-shadow: var(--shadow-md);
}

/* Card with accent left border */
.card--accent {
  border-left: 3px solid var(--color-accent);
}

/* Button Base */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  padding: var(--space-3) var(--space-5);
  font-family: var(--font-display);
  font-size: var(--text-sm);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  line-height: 1;
  border-radius: var(--radius-md);
  border: none;
  cursor: pointer;
  transition: all var(--transition-fast);
  text-decoration: none;
}

.btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Primary Button — Terracotta */
.btn--primary {
  background-color: var(--color-accent);
  color: var(--color-ink-inverse);
}

.btn--primary:hover:not(:disabled) {
  background-color: var(--color-accent-hover);
  box-shadow: var(--shadow-glow);
}

/* Secondary Button — Outlined */
.btn--secondary {
  background-color: transparent;
  color: var(--color-ink);
  border: var(--border-strong);
}

.btn--secondary:hover:not(:disabled) {
  background-color: var(--color-surface-hover);
  border-color: var(--color-ink);
}

/* Ghost Button */
.btn--ghost {
  background-color: transparent;
  color: var(--color-ink-secondary);
}

.btn--ghost:hover:not(:disabled) {
  color: var(--color-ink);
  background-color: var(--color-surface-hover);
}

/* Input */
.input {
  width: 100%;
  padding: var(--space-3) var(--space-4);
  font-family: var(--font-body);
  font-size: var(--text-base);
  color: var(--color-ink);
  background-color: var(--color-surface);
  border: var(--border-default);
  border-radius: var(--radius-md);
  transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
}

.input::placeholder {
  color: var(--color-ink-tertiary);
  font-style: italic;
}

.input:hover {
  border-color: var(--color-graphite-light);
}

.input:focus {
  outline: none;
  border-color: var(--color-accent);
  box-shadow: 0 0 0 3px var(--color-focus-ring);
}

.input--error {
  border-color: var(--color-error);
}

/* Label */
.label {
  display: block;
  margin-bottom: var(--space-2);
  font-family: var(--font-display);
  font-size: var(--text-xs);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wider);
  color: var(--color-ink-secondary);
}


/* ═══════════════════════════════════════════════════════════════════════════
   ALERT PATTERNS
   ═══════════════════════════════════════════════════════════════════════════ */

.alert {
  display: flex;
  align-items: flex-start;
  gap: var(--space-3);
  padding: var(--space-4);
  border-radius: var(--radius-md);
  font-size: var(--text-sm);
  border-left: 3px solid currentColor;
}

.alert--success {
  background-color: var(--color-success-bg);
  color: var(--color-success);
}

.alert--warning {
  background-color: var(--color-warning-bg);
  color: var(--color-warning);
}

.alert--error {
  background-color: var(--color-error-bg);
  color: var(--color-error);
}

.alert--info {
  background-color: var(--color-info-bg);
  color: var(--color-info);
}


/* ═══════════════════════════════════════════════════════════════════════════
   NAVIGATION PATTERN
   ═══════════════════════════════════════════════════════════════════════════ */

.nav-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-3);
  border-radius: var(--radius-lg);
  color: var(--color-ink-secondary);
  text-decoration: none;
  font-family: var(--font-display);
  font-size: var(--text-xs);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  transition: all var(--transition-fast);
}

.nav-item:hover {
  color: var(--color-ink);
  background-color: var(--color-surface-hover);
}

.nav-item--active {
  color: var(--color-accent);
  background-color: var(--color-accent-soft);
}

.nav-item--active:hover {
  color: var(--color-accent);
}

.nav-item .icon {
  width: 24px;
  height: 24px;
  color: currentColor;
}


/* ═══════════════════════════════════════════════════════════════════════════
   EMPTY STATE PATTERN
   ═══════════════════════════════════════════════════════════════════════════ */

.empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: var(--space-12) var(--space-6);
  max-width: 400px;
  margin: 0 auto;
}

.empty-state__illustration {
  width: 120px;
  height: 120px;
  margin-bottom: var(--space-6);
  color: var(--color-graphite-light);
}

.empty-state__title {
  font-family: var(--font-display);
  font-size: var(--text-xl);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  color: var(--color-ink);
  margin-bottom: var(--space-2);
}

.empty-state__description {
  font-family: var(--font-body);
  font-size: var(--text-sm);
  color: var(--color-ink-secondary);
  line-height: var(--leading-relaxed);
  margin-bottom: var(--space-4);
}

/* Poetic empty state */
.empty-state--poetic .poetic-verse {
  margin-bottom: var(--space-4);
}


/* ═══════════════════════════════════════════════════════════════════════════
   PILL & TAG PATTERNS
   ═══════════════════════════════════════════════════════════════════════════ */

.pill {
  display: inline-flex;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-1) var(--space-3);
  border-radius: var(--radius-full);
  font-family: var(--font-display);
  font-size: var(--text-xs);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  border: 1px solid var(--ink-200);
  background: var(--ivory-200);
  color: var(--ink-600);
}

.pill--accent {
  background: var(--color-accent-soft);
  border-color: var(--color-accent);
  color: var(--color-accent);
}

.tag {
  display: inline-flex;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-md);
  font-family: var(--font-body);
  font-size: var(--text-xs);
  color: var(--color-ink-tertiary);
  background: var(--ivory-300);
}